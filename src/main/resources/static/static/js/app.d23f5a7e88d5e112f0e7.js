webpackJsonp([1],{"/ees":function(e,t){},"/gBP":function(e,t){},0:function(e,t){},1:function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r("7+uW"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var s=r("VU/8")({name:"App"},o,!1,function(e){r("s347")},null,null).exports,a=r("/ocq"),n={name:"Login",data:function(){return{rules:{loginname:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},loginForm:{loginname:"",password:""},loading:!1}},methods:{submitClick:function(){var e=this;this.$xtjConverter.xmlDataToJSON('<?xml version="1.0" encoding="utf-8"?>\n<string xmlns="http://tempuri.org/">[{"StringID":"长青组-2018-03-04","StringText":"长青组"},{"StringID":"长青组-2018-03-11","StringText":"长青组"},{"StringID":"长青组-2018-03-18","StringText":"长青组"},{"StringID":"长青组-2018-03-25","StringText":"长青组"},{"StringID":"长青组-2018-04-01","StringText":"长青组"},{"StringID":"长青组-2018-04-08","StringText":"长青组"},{"StringID":"长青组-2018-04-15","StringText":"长青组"},{"StringID":"长青组-2018-04-22","StringText":"长青组"},{"StringID":"长青组-2018-04-29","StringText":"长青组"},{"StringID":"长青组-2018-05-06","StringText":"长青组"},{"StringID":"长青组-2018-05-13","StringText":"长青组"},{"StringID":"长青组-2018-05-20","StringText":"长青组"},{"StringID":"长青组-2018-05-27","StringText":"长青组"},{"StringID":"长青组-2018-06-03","StringText":"长青组"},{"StringID":"长青组-2018-06-10","StringText":"长青组"},{"StringID":"长青组-2018-06-17","StringText":"长青组"},{"StringID":"长青组-2018-06-24","StringText":"长青组"},{"StringID":"长青组-2018-07-01","StringText":"长青组"},{"StringID":"长青组-2018-07-08","StringText":"长青组"},{"StringID":"长青组-2018-07-15","StringText":"长青组"},{"StringID":"长青组-2018-07-22","StringText":"长青组"},{"StringID":"长青组-2018-07-29","StringText":"长青组"},{"StringID":"长青组-2018-08-05","StringText":"长青组"},{"StringID":"长青组-2018-08-12","StringText":"长青组"},{"StringID":"长青组-2018-08-19","StringText":"长青组"},{"StringID":"长青组-2018-08-26","StringText":"长青组"},{"StringID":"长青组-2018-09-02","StringText":"长青组"},{"StringID":"长青组-2018-09-09","StringText":"长青组"},{"StringID":"长青组-2018-09-16","StringText":"长青组"},{"StringID":"长青组-2018-09-23","StringText":"长青组"},{"StringID":"长青组-2018-09-30","StringText":"长青组"},{"StringID":"长青组-2018-10-07","StringText":"长青组"},{"StringID":"长青组-2018-10-14","StringText":"长青组"},{"StringID":"长青组-2018-10-21","StringText":"长青组"},{"StringID":"长青组-2018-10-28","StringText":"长青组"},{"StringID":"长青组-2018-11-04","StringText":"长青组"}]</string>').then(function(e){});var t=this;this.loading=!0,this.postRequest("/login",{loginname:this.loginForm.loginname,password:this.loginForm.password}).then(function(r){if(t.loading=!1,r&&200===r.status){var i=r.data;console.log(i.msg),t.$store.commit("login",i.msg),t.$router.replace({path:"/"})}else e.$message({message:r.data.status,center:!0})})}}},l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"login-container",attrs:{rules:e.rules,model:e.loginForm,"label-position":"left","label-width":"0px"}},[r("h3",{staticClass:"login_title"},[e._v("系统登录")]),e._v(" "),r("el-form-item",{attrs:{prop:"loginname"}},[r("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.loginForm.loginname,callback:function(t){e.$set(e.loginForm,"loginname",t)},expression:"loginForm.loginname"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),e._v(" "),r("el-form-item",{staticStyle:{width:"100%"}},[r("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.submitClick(t)}}},[e._v("登录")])],1)],1)},staticRenderFns:[]};var u=r("VU/8")(n,l,!1,function(e){r("yDwC")},null,null).exports,m={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{staticClass:"home-container"},[r("el-aside",{style:{width:e.isCollapse?"0px":"200px",height:"100%"}},[r("el-menu",{staticClass:"el-menu-vertical",staticStyle:{height:"100%"},attrs:{"default-active":"/memberlist",router:"","unique-opened":"","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[r("el-menu-item",{attrs:{index:"/memberlist"},on:{click:e.handleCollapse}},[e._v("查看/编辑组员信息")]),e._v(" "),r("el-menu-item",{attrs:{index:"/updatepwd"},on:{click:e.handleCollapse}},[e._v("更改密码")]),e._v(" "),r("el-submenu",{on:{click:e.handleCollapse}},[r("template",{slot:"title"},[e._v("报表")]),e._v(" "),r("el-menu-item",{attrs:{index:"/reportlist"}},[e._v("填写周报")]),e._v(" "),r("el-menu-item",{attrs:{index:"/reportlistmod"}},[e._v("修改周报")])],2),e._v(" "),r("el-menu-item",{attrs:{index:"/"},on:{click:e.logOut}},[e._v("退出")])],1)],1),e._v(" "),r("el-container",[r("el-header",{staticClass:"home-header"},[r("div",{staticClass:"menu-icon",on:{click:function(t){return t.preventDefault(),e.handleCollapse(t)}}},[r("i",{staticClass:"el-icon-menu"})]),e._v("A'men")]),e._v(" "),r("div",{staticStyle:{height:"100%"},on:{click:function(t){return t.preventDefault(),e.checkCollapse(t)}}},[r("router-view")],1)],1)],1)},staticRenderFns:[]};var c=r("VU/8")({name:"Home",data:function(){return{isCollapse:!0}},methods:{logOut:function(){var e=this;this.$confirm("注销登录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$store.commit("logout"),e.$router.replace({name:"Login"})})},handleCollapse:function(){this.isCollapse=!this.isCollapse},checkCollapse:function(){this.isCollapse||(this.isCollapse=!0)}},mounted:function(){this.initMemberList(this.$store),this.initReportList(this.$store.state.user.groupid,this.$store),this.initReportListEdit(this.$store.state.user.groupid,this.$store)}},m,!1,function(e){r("/gBP")},null,null).exports,p={name:"UpdatePwd",data:function(){var e=this;return{rules:{oPassword:[{required:!0,min:6,message:"请输入正确密码",trigger:"blur"}],nPassword:[{validator:function(t,r,i){""===r||"123456"===r||r.length<6?i(new Error("请输入密码,且不可过于简单!")):(""!==e.pForm.cPassword&&e.$refs.pForm.validateField("cPassword"),i())},trigger:"blur"}],cPassword:[{validator:function(t,r,i){""===r?i(new Error("请再次输入密码")):r!==e.pForm.nPassword?i(new Error("两次输入密码不一致!")):i()},trigger:["blur","change"]}]},pForm:{oPassword:"",nPassword:"",cPassword:""},loading:!1}},methods:{restForm:function(){this.$refs.pForm.resetFields()},submitClick:function(){var e=this,t=this;this.loading=!0,this.$refs.pForm.validate(function(r){if(!r)return t.$message({message:"请输入正确内容",center:!0}),e.loading=!1,!1;t.postRequest("/user/updatepassword",{userId:t.$store.state.user.userid,oPassword:t.pForm.oPassword,nPassword:t.pForm.nPassword}).then(function(e){t.loading=!1,e&&200===e.status?(t.$message({message:e.data.msg,center:!0}),t.$router.replace({path:"/"})):t.$router.replace({name:"Login"})}),e.loading=!1})}}},d={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",[r("el-main",[r("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"pForm",attrs:{rules:e.rules,"status-icon":"",model:e.pForm,"label-position":"left","label-width":"0px"}},[r("el-form-item",{attrs:{prop:"oPassword"}},[r("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"原密码"},model:{value:e.pForm.oPassword,callback:function(t){e.$set(e.pForm,"oPassword",t)},expression:"pForm.oPassword"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"nPassword"}},[r("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"新密码"},model:{value:e.pForm.nPassword,callback:function(t){e.$set(e.pForm,"nPassword",t)},expression:"pForm.nPassword"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"cPassword"}},[r("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"再次输入新密码"},model:{value:e.pForm.cPassword,callback:function(t){e.$set(e.pForm,"cPassword",t)},expression:"pForm.cPassword"}})],1),e._v(" "),r("el-form-item",{staticStyle:{width:"100%"}},[r("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.submitClick(t)}}},[e._v("修改")]),e._v(" "),r("el-button",{staticStyle:{width:"100%",margin:"0px"},attrs:{type:"warning"},on:{click:e.restForm}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]};var h=r("VU/8")(p,d,!1,function(e){r("gbrI")},null,null).exports,g={name:"MemberList",methods:{handleClick:function(e,t){this.$router.push({name:"MemberInfo",params:{loginname:e.loginname,phone:e.phone,username:e.username,isEdit:t,courseName:e.courseName,gender:e.gender,date:e.joinchurchdate,userid:e.userid,isNew:!1}})},newForm:function(){this.$router.push({name:"MemberInfo",params:{isNew:!0}})},changeArea:function(){var e=this;this.postRequest("/org/getChildTeams",{aId:this.cArea}).then(function(t){t&&200===t.status&&"success"===t.data.status&&(e.$store.commit("initTeams",t.data.data),e.cTeam=e.teamOpt[0].id,e.changeTeam())})},changeTeam:function(){var e=this,t=this;this.postRequest("/user/getMembers",{gId:this.cTeam}).then(function(r){r&&200===r.status&&"success"===r.data.status&&(console.log(".....123"),e.$store.commit("initMemberList",r.data.data),e.initReportList(t.cTeam,e.$store),e.initReportListEdit(t.cTeam,e.$store))})}},computed:{tableData:function(){return this.$store.state.members},areaOpt:function(){return this.$store.state.areas},teamOpt:function(){return this.$store.state.teams},cTeam:{get:function(){return this.$store.state.cTeam},set:function(e){this.$store.commit("setCTeam",e)}},cArea:{get:function(){return this.$store.state.cArea},set:function(e){this.$store.commit("setCArea",e)}},openArea:function(){return"区牧"===this.$store.state.rolename},openTeam:function(){return"区牧"===this.$store.state.rolename||"区长"===this.$store.state.rolename}}},f={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",[r("el-main",{staticStyle:{padding:"10px"}},[e.openArea?r("el-select",{staticStyle:{margin:"5px",float:"left"},attrs:{placeholder:"请选择区"},on:{change:e.changeArea},model:{value:e.cArea,callback:function(t){e.cArea=t},expression:"cArea"}},e._l(e.areaOpt,function(e){return r("el-option",{key:e.id,attrs:{label:e.organizationname,value:e.id}})})):e._e(),e._v(" "),e.openTeam?r("el-select",{staticStyle:{margin:"5px",float:"left"},attrs:{placeholder:"请选择小组"},on:{change:e.changeTeam},model:{value:e.cTeam,callback:function(t){e.cTeam=t},expression:"cTeam"}},e._l(e.teamOpt,function(e){return r("el-option",{key:e.id,attrs:{label:e.organizationname,value:e.id}})})):e._e(),e._v(" "),r("el-button",{staticStyle:{"margin-bottom":"5px",float:"right"},attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.newForm(t)}}},[e._v("新增")]),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[r("el-table-column",{attrs:{prop:"username","min-width":"65",label:"用户名"}}),e._v(" "),r("el-table-column",{attrs:{prop:"nickname","min-width":"65",label:"昵称"}}),e._v(" "),r("el-table-column",{attrs:{prop:"courseName","min-width":"45",label:"垒包"}}),e._v(" "),r("el-table-column",{attrs:{fixed:"right","min-width":"80",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"info",size:"small"},on:{click:function(r){e.handleClick(t.row,!1)}}},[e._v("查看")]),e._v(" "),r("el-button",{staticStyle:{margin:"0px"},attrs:{type:"danger",size:"small"},on:{click:function(r){e.handleClick(t.row,!0)}}},[e._v("编辑")])]}}])})],1)],1)],1)},staticRenderFns:[]},v=r("VU/8")(g,f,!1,null,null,null).exports,F={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",[r("el-main",{staticStyle:{padding:"10px"}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"用户名",prop:"loginname"}},[e.isEdit?r("el-input",{model:{value:e.ruleForm.loginname,callback:function(t){e.$set(e.ruleForm,"loginname",t)},expression:"ruleForm.loginname"}}):r("div",{staticStyle:{"text-align":"left"}},[r("span",[e._v(":   "+e._s(e.ruleForm.loginname))])])],1),e._v(" "),r("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[e.isEdit?r("el-input",{model:{value:e.ruleForm.phone,callback:function(t){e.$set(e.ruleForm,"phone",t)},expression:"ruleForm.phone"}}):r("div",{staticStyle:{"text-align":"left"}},[r("span",[e._v(":   "+e._s(e.ruleForm.phone))])])],1),e._v(" "),r("el-form-item",{attrs:{label:"姓名",prop:"username"}},[e.isEdit?r("el-input",{model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}}):r("div",{staticStyle:{"text-align":"left"}},[r("span",[e._v(":   "+e._s(e.ruleForm.username))])])],1),e._v(" "),e.isNew?r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1):e._e(),e._v(" "),0==e.isNew?r("el-form-item",{attrs:{label:"垒包",prop:"coursename"}},[r("div",{staticStyle:{"text-align":"left"}},[r("span",[e._v(":   "+e._s(e.ruleForm.coursename))])])]):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"性别",prop:"gender"}},[r("div",{staticStyle:{"text-align":"left"}},[e.isEdit?r("el-radio-group",{model:{value:e.ruleForm.gender,callback:function(t){e.$set(e.ruleForm,"gender",t)},expression:"ruleForm.gender"}},[r("el-radio",{attrs:{label:"男"}}),e._v(" "),r("el-radio",{attrs:{label:"女"}})],1):r("div",{staticStyle:{"text-align":"left"}},[r("span",[e._v(":   "+e._s(e.ruleForm.gender))])])],1)]),e._v(" "),r("el-form-item",{attrs:{label:"加入时间",required:""}},[r("el-col",[r("el-form-item",{attrs:{prop:"date"}},[e.isEdit?r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.ruleForm.date,callback:function(t){e.$set(e.ruleForm,"date",t)},expression:"ruleForm.date"}}):r("div",{staticStyle:{"text-align":"left"}},[r("span",[e._v(":   "+e._s(e._f("formatDate")(e.ruleForm.date)))])])],1)],1)],1),e._v(" "),e.isEdit?r("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.submitChange(t)}}},[e._v("提交")]):e._e(),e._v(" "),r("el-button",{nativeOn:{click:function(t){return t.preventDefault(),e.goBack(t)}}},[e._v("返回")])],1)],1)],1)},staticRenderFns:[]};var b=r("VU/8")({name:"MemberInfo",data:function(){return{userid:"",groupid:"",isEdit:!1,isNew:!1,ruleForm:{loginname:"",phone:"",username:"",coursename:"",date:"",password:"",gender:"男"},rules:{loginname:[{required:!0,message:"请输入用户名",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"}],username:[{required:!0,message:"请输入姓名",trigger:"blur"}],date:[{type:"date",required:!0,message:"请选择加入日期",trigger:"blur"}],password:[{required:!0,message:"请输入用户名",trigger:"blur"}]}}},computed:{cTeam:function(){return this.$store.state.cTeam}},methods:{goBack:function(){this.$router.back()},submitChange:function(){var e=this,t=this;this.isNew?this.$refs.ruleForm.validate(function(r){r&&e.postRequest("/user/newMember",{groupid:e.cTeam,phone:e.ruleForm.phone,username:e.ruleForm.username,loginname:e.ruleForm.loginname,password:e.ruleForm.password,gender:e.ruleForm.gender}).then(function(r){r&&200===r.status&&"success"===r.data.status&&(t.$message({message:r.data.msg,center:!0}),t.postRequest("/user/getMembers",{gId:e.cTeam}).then(function(t){t&&200===t.status&&"success"===t.data.status&&e.$store.commit("initMemberList",t.data.data)}),t.$router.push({name:"Home"}))})}):this.postRequest("/user/updateMember",{userId:this.userid,mobile:this.ruleForm.phone,username:this.ruleForm.username,loginname:this.ruleForm.loginname,gender:this.ruleForm.gender}).then(function(r){r&&200===r.status&&"success"===r.data.status&&(t.$message({message:r.data.msg,center:!0}),t.postRequest("/user/getMembers",{gId:e.cTeam}).then(function(t){t&&200===t.status&&"success"===t.data.status&&e.$store.commit("initMemberList",t.data.data)}),t.$router.push({name:"Home"}))})}},mounted:function(){this.$route.params.isNew?(this.isNew=!0,this.isEdit=!0):(this.ruleForm.loginname=this.$route.params.loginname,this.ruleForm.phone=this.$route.params.phone,this.ruleForm.username=this.$route.params.username,this.ruleForm.coursename=this.$route.params.courseName,this.ruleForm.date=this.formatDate(this.$route.params.date),this.ruleForm.gender=this.$route.params.gender,this.userid=this.$route.params.userid,this.isEdit=this.$route.params.isEdit)}},F,!1,function(e){r("TPTA")},"data-v-0009323a",null).exports,T={name:"ReportList",methods:{rowClick:function(e,t,r){console.log(e.StringID),this.$router.push({name:"ReportInfo",params:{reportName:e.StringID,isEdit:!1}})},changeArea:function(){var e=this;this.postRequest("/org/getChildTeams",{aId:this.cArea}).then(function(t){t&&200===t.status&&"success"===t.data.status&&(e.$store.commit("initTeams",t.data.data),e.cTeam=e.teamOpt[0].id,e.changeTeam())})},changeTeam:function(){var e=this,t=this;this.postRequest("/user/getMembers",{gId:this.cTeam}).then(function(r){r&&200===r.status&&"success"===r.data.status&&(console.log(".....123"),e.$store.commit("initMemberList",r.data.data),e.initReportList(t.cTeam,e.$store),e.initReportListEdit(t.cTeam,e.$store))})}},computed:{tableData:function(){return this.$store.state.reports},areaOpt:function(){return this.$store.state.areas},teamOpt:function(){return this.$store.state.teams},cTeam:{get:function(){return this.$store.state.cTeam},set:function(e){this.$store.commit("setCTeam",e)}},cArea:{get:function(){return this.$store.state.cArea},set:function(e){this.$store.commit("setCArea",e)}},openArea:function(){return"区牧"===this.$store.state.rolename},openTeam:function(){return"区牧"===this.$store.state.rolename||"区长"===this.$store.state.rolename}},mounted:function(){}},w={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-main",{staticStyle:{padding:"10px"}},[e.openArea?r("el-select",{staticStyle:{margin:"5px",float:"left"},attrs:{placeholder:"请选择区"},on:{change:e.changeArea},model:{value:e.cArea,callback:function(t){e.cArea=t},expression:"cArea"}},e._l(e.areaOpt,function(e){return r("el-option",{key:e.id,attrs:{label:e.organizationname,value:e.id}})})):e._e(),e._v(" "),e.openTeam?r("el-select",{staticStyle:{margin:"5px",float:"left"},attrs:{placeholder:"请选择小组"},on:{change:e.changeTeam},model:{value:e.cTeam,callback:function(t){e.cTeam=t},expression:"cTeam"}},e._l(e.teamOpt,function(e){return r("el-option",{key:e.id,attrs:{label:e.organizationname,value:e.id}})})):e._e(),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""},on:{"row-click":e.rowClick}},[r("el-table-column",{attrs:{prop:"StringID","min-width":"120",label:""}})],1)],1)},staticRenderFns:[]};var S=r("VU/8")(T,w,!1,function(e){r("tb7/")},"data-v-592eeec7",null).exports,D={name:"ReportListModify",methods:{rowClick:function(e,t,r){console.log(e.ReportName),this.$router.push({name:"ReportInfo",params:{isEdit:!0,reportName:e.ReportName,reportId:e.ID,isParty:e.IsParty,isSunday:e.IsSunday,reportDate:e.WeekReportDate,createUserId:e.CreateUserID}})},changeArea:function(){var e=this;this.postRequest("/org/getChildTeams",{aId:this.cArea}).then(function(t){t&&200===t.status&&"success"===t.data.status&&(e.$store.commit("initTeams",t.data.data),e.cTeam=e.teamOpt[0].id,e.changeTeam())})},changeTeam:function(){var e=this,t=this;this.postRequest("/user/getMembers",{gId:this.cTeam}).then(function(r){r&&200===r.status&&"success"===r.data.status&&(console.log(".....123"),e.$store.commit("initMemberList",r.data.data),e.initReportList(t.cTeam,e.$store),e.initReportListEdit(t.cTeam,e.$store))})}},computed:{tableData:function(){return this.$store.state.reportedit},areaOpt:function(){return this.$store.state.areas},teamOpt:function(){return this.$store.state.teams},cTeam:{get:function(){return this.$store.state.cTeam},set:function(e){this.$store.commit("setCTeam",e)}},cArea:{get:function(){return this.$store.state.cArea},set:function(e){this.$store.commit("setCArea",e)}},openArea:function(){return"区牧"===this.$store.state.rolename},openTeam:function(){return"区牧"===this.$store.state.rolename||"区长"===this.$store.state.rolename}},mounted:function(){console.log("reportlist modify")}},_={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-main",{staticStyle:{padding:"10px"}},[e.openArea?r("el-select",{staticStyle:{margin:"5px",float:"left"},attrs:{placeholder:"请选择区"},on:{change:e.changeArea},model:{value:e.cArea,callback:function(t){e.cArea=t},expression:"cArea"}},e._l(e.areaOpt,function(e){return r("el-option",{key:e.id,attrs:{label:e.organizationname,value:e.id}})})):e._e(),e._v(" "),e.openTeam?r("el-select",{staticStyle:{margin:"5px",float:"left"},attrs:{placeholder:"请选择小组"},on:{change:e.changeTeam},model:{value:e.cTeam,callback:function(t){e.cTeam=t},expression:"cTeam"}},e._l(e.teamOpt,function(e){return r("el-option",{key:e.id,attrs:{label:e.organizationname,value:e.id}})})):e._e(),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""},on:{"row-click":e.rowClick}},[r("el-table-column",{attrs:{prop:"ReportName","min-width":"120",label:""}})],1)],1)},staticRenderFns:[]};var y=r("VU/8")(D,_,!1,function(e){r("/ees")},"data-v-6e73e7c0",null).exports,x={name:"ReportInfo",data:function(){return{currentMember:"",isEdit:!1,reportName:"",reportId:"",joinGroupNum:0,joinChurchNum:0,step:0,stepStatus:0,attendanceObj:[],FiveWObj:[],WeekRptObj:{},ruleForm:{isGroup:0,isChurch:0,isLD:0,isTD:0,isCourse:0,opinion:"",groupDate:"",spiritualGrowth:0,phoneCare:0,byVisiting:0,isParty:0,isSunday:0,groupContent:"",contentDetails:"",introspectionNum:0,description:"",beginTime:this.getCurrentTime(),prayTime:this.getCurrentTime(),singTime:this.getCurrentTime(),iceBreakTime:this.getCurrentTime(),witnessTime:this.getCurrentTime(),speakTime:this.getCurrentTime(),serveTime:this.getCurrentTime(),reportTime:this.getCurrentTime(),prayer:"",singer:"",iceBreaker:"",witnesser:"",speaker:"",server:"",reporter:""},rules:{}}},methods:{leave:function(){var e=this;this.$confirm("作废操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$router.back()})},preStep:function(){this.step--,this.step<this.memberData.length-1?this.currentMember=this.memberData[this.step]:this.stepStatus--,this.step<=this.memberData.length-1&&this.step>=0&&(this.ruleForm.isGroup=this.attendanceObj[this.step].IsGroup,this.ruleForm.isChurch=this.attendanceObj[this.step].IsChurch,this.ruleForm.isLD=this.attendanceObj[this.step].IsLD,this.ruleForm.isCourse=this.attendanceObj[this.step].IsCourse,this.ruleForm.isTD=this.attendanceObj[this.step].isTD,this.ruleForm.spiritualGrowth=this.attendanceObj[this.step].SpiritualGrowth,this.ruleForm.phoneCare=this.attendanceObj[this.step].PhoneCare,this.ruleForm.byVisiting=this.attendanceObj[this.step].ByVisiting)},nextStep:function(){if(console.log(this.ruleForm.isParty+"|"+this.ruleForm.isSunday),this.step<=this.memberData.length-1){var e={ID:"",WeekReportID:""};e.UserID=this.currentMember.userid,e.IsGroup=this.ruleForm.isGroup,e.IsChurch=this.ruleForm.isChurch,e.IsLD=this.ruleForm.isLD,e.IsCourse=this.ruleForm.isCourse,e.isTD=this.ruleForm.isTD,e.SpiritualGrowth=this.ruleForm.spiritualGrowth,e.PhoneCare=this.ruleForm.phoneCare,e.ByVisiting=this.ruleForm.byVisiting,this.attendanceObj[this.step]=e,console.log(e)}this.step++,this.step>this.memberData.length-1?this.stepStatus++:this.currentMember=this.memberData[this.step],this.resetFormMemberValue()},submitReport:function(){var e=this,t={'?xml version="1.0" encoding="utf-8"?':null,WeekReport:{ID:"",ReportName:this.reportName,WeekReportDate:this.dateToString(this.ruleForm.groupDate),OrganizationID:this.currentTeam,CreateUserID:this.currentUser.userid,IsParty:this.ruleForm.isParty,IsSunday:this.ruleForm.isSunday,Description:this.ruleForm.description}},r={'?xml version="1.0" encoding="utf-8"?':null,list:{Attendance:this.attendanceObj}};this.attendanceObj.forEach(function(t){t.IsGroup&&e.joinGroupNum++,t.IsChurch&&e.joinChurchNum++}),this.FiveWObj=[],this.FiveWObj.push({ID:"",WeekReportID:"",Flow:"祷告",BeginTime:this.ruleForm.beginTime,EndTime:this.ruleForm.prayTime,LeaderID:this.ruleForm.prayer,GroupDate:this.dateToString(this.ruleForm.groupDate),GroupContent:this.ruleForm.groupContent,ContentDetails:this.ruleForm.contentDetails,IntrospectionNum:this.ruleForm.introspectionNum,JoinGroupNum:this.joinGroupNum,JoinChurchNum:this.joinChurchNum,Opinion:this.ruleForm.opinion},{ID:"",WeekReportID:"",Flow:"破冰",BeginTime:this.ruleForm.beginTime,EndTime:this.ruleForm.iceBreakTime,LeaderID:this.ruleForm.iceBreaker,GroupDate:this.dateToString(this.ruleForm.groupDate),GroupContent:this.ruleForm.groupContent,ContentDetails:this.ruleForm.contentDetails,IntrospectionNum:this.ruleForm.introspectionNum,JoinGroupNum:this.joinGroupNum,JoinChurchNum:this.joinChurchNum,Opinion:this.ruleForm.opinion},{ID:"",WeekReportID:"",Flow:"敬拜",BeginTime:this.ruleForm.beginTime,EndTime:this.ruleForm.singTime,LeaderID:this.ruleForm.singer,GroupDate:this.dateToString(this.ruleForm.groupDate),GroupContent:this.ruleForm.groupContent,ContentDetails:this.ruleForm.contentDetails,IntrospectionNum:this.ruleForm.introspectionNum,JoinGroupNum:this.joinGroupNum,JoinChurchNum:this.joinChurchNum,Opinion:this.ruleForm.opinion},{ID:"",WeekReportID:"",Flow:"见证",BeginTime:this.ruleForm.beginTime,EndTime:this.ruleForm.witnessTime,LeaderID:this.ruleForm.witnesser,GroupDate:this.dateToString(this.ruleForm.groupDate),GroupContent:this.ruleForm.groupContent,ContentDetails:this.ruleForm.contentDetails,IntrospectionNum:this.ruleForm.introspectionNum,JoinGroupNum:this.joinGroupNum,JoinChurchNum:this.joinChurchNum,Opinion:this.ruleForm.opinion},{ID:"",WeekReportID:"",Flow:"话语",BeginTime:this.ruleForm.beginTime,EndTime:this.ruleForm.speakTime,LeaderID:this.ruleForm.speaker,GroupDate:this.dateToString(this.ruleForm.groupDate),GroupContent:this.ruleForm.groupContent,ContentDetails:this.ruleForm.contentDetails,IntrospectionNum:this.ruleForm.introspectionNum,JoinGroupNum:this.joinGroupNum,JoinChurchNum:this.joinChurchNum,Opinion:this.ruleForm.opinion},{ID:"",WeekReportID:"",Flow:"服事",BeginTime:this.ruleForm.beginTime,EndTime:this.ruleForm.serveTime,LeaderID:this.ruleForm.server,GroupDate:this.dateToString(this.ruleForm.groupDate),GroupContent:this.ruleForm.groupContent,ContentDetails:this.ruleForm.contentDetails,IntrospectionNum:this.ruleForm.introspectionNum,JoinGroupNum:this.joinGroupNum,JoinChurchNum:this.joinChurchNum,Opinion:this.ruleForm.opinion},{ID:"",WeekReportID:"",Flow:"报告",BeginTime:this.ruleForm.beginTime,EndTime:this.ruleForm.reportTime,LeaderID:this.ruleForm.reporter,GroupDate:this.dateToString(this.ruleForm.groupDate),GroupContent:this.ruleForm.groupContent,ContentDetails:this.ruleForm.contentDetails,IntrospectionNum:this.ruleForm.introspectionNum,JoinGroupNum:this.joinGroupNum,JoinChurchNum:this.joinChurchNum,Opinion:this.ruleForm.opinion});var i={'?xml version="1.0" encoding="utf-8"?':null,list:{GroupFiveW:this.FiveWObj}};console.log(this.$otxConverter(t)),console.log(this.$otxConverter(r)),console.log(this.$otxConverter(i))},getCurrentTime:function(){var e=new Date,t=e.getHours(),r=e.getMinutes();return(t=t<10?"0"+t:t)+":"+(r=r<10?"0"+r:r)},resetFormMemberValue:function(){this.ruleForm.isGroup=0,this.ruleForm.isChurch=0,this.ruleForm.isLD=0,this.ruleForm.isCourse=0,this.ruleForm.isTD=0,this.ruleForm.spiritualGrowth=0,this.ruleForm.phoneCare=0,this.ruleForm.byVisiting=0}},computed:{memberData:function(){return this.$store.state.members},currentTeam:function(){return this.$store.state.cTeam},currentUser:function(){return this.$store.state.user}},mounted:function(){this.currentMember=this.memberData[0],this.resetFormMemberValue(),this.reportName=this.$route.params.reportName,this.$route.params.isEdit&&(console.log("isEdit"),this.isEdit=!0,this.reportId=this.$route.params.reportId,this.ruleForm.isParty=this.$route.params.isParty,this.ruleForm.isSunday=this.$route.params.isSunday,this.ruleForm.groupDate=this.$route.params.reportDate)}},k={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",[r("el-main",{staticStyle:{padding:"10px"}},[0===e.stepStatus?r("div",[r("span",[e._v(e._s(e.currentMember.username))]),e.currentMember.nickname?r("span",[e._v(" ("+e._s(e.currentMember.nickname)+")")]):e._e(),r("span",[e._v("活动纪录")])]):e._e(),e._v(" "),r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"label-width":"80px"}},[0===e.stepStatus?r("div",[r("el-form-item",{attrs:{label:"小組",prop:"isGroup"}},[r("el-switch",{attrs:{width:"60"},model:{value:e.ruleForm.isGroup,callback:function(t){e.$set(e.ruleForm,"isGroup",t)},expression:"ruleForm.isGroup"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"主日",prop:"isChurch"}},[r("el-switch",{attrs:{width:"60"},model:{value:e.ruleForm.isChurch,callback:function(t){e.$set(e.ruleForm,"isChurch",t)},expression:"ruleForm.isChurch"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"LD",prop:"isLD"}},[r("el-switch",{attrs:{width:"60"},model:{value:e.ruleForm.isLD,callback:function(t){e.$set(e.ruleForm,"isLD",t)},expression:"ruleForm.isLD"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"垒包",prop:"isCourse"}},[r("el-switch",{attrs:{width:"60"},model:{value:e.ruleForm.isCourse,callback:function(t){e.$set(e.ruleForm,"isCourse",t)},expression:"ruleForm.isCourse"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"TD",prop:"isTD"}},[r("el-switch",{attrs:{width:"60"},model:{value:e.ruleForm.isTD,callback:function(t){e.$set(e.ruleForm,"isTD",t)},expression:"ruleForm.isTD"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"灵修次数",prop:"spiritualGrowth"}},[r("el-input-number",{model:{value:e.ruleForm.spiritualGrowth,callback:function(t){e.$set(e.ruleForm,"spiritualGrowth",t)},expression:"ruleForm.spiritualGrowth"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"关怀",prop:"phoneCare"}},[r("el-input-number",{model:{value:e.ruleForm.phoneCare,callback:function(t){e.$set(e.ruleForm,"phoneCare",t)},expression:"ruleForm.phoneCare"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"探访",prop:"byVisiting"}},[r("el-input-number",{model:{value:e.ruleForm.byVisiting,callback:function(t){e.$set(e.ruleForm,"byVisiting",t)},expression:"ruleForm.byVisiting"}})],1)],1):e._e(),e._v(" "),1===e.stepStatus?r("div",[r("el-form-item",{attrs:{label:"主日正常",prop:"isSunday"}},[r("el-switch",{attrs:{width:"60"},model:{value:e.ruleForm.isSunday,callback:function(t){e.$set(e.ruleForm,"isSunday",t)},expression:"ruleForm.isSunday"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"小组正常",prop:"isParty"}},[r("el-switch",{attrs:{width:"60"},model:{value:e.ruleForm.isParty,callback:function(t){e.$set(e.ruleForm,"isParty",t)},expression:"ruleForm.isParty"}})],1),e._v(" "),e.ruleForm.isParty?e._e():r("el-form-item",{attrs:{prop:"opinion",label:"取消原因"}},[r("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.ruleForm.opinion,callback:function(t){e.$set(e.ruleForm,"opinion",t)},expression:"ruleForm.opinion"}})],1),e._v(" "),e.ruleForm.isParty?r("el-form-item",{attrs:{label:"小组日期",required:""}},[r("el-col",[r("el-form-item",{attrs:{prop:"groupDate"}},[r("el-date-picker",{staticStyle:{width:"80%"},attrs:{editable:"false",clearable:"false",type:"date",placeholder:"选择日期"},model:{value:e.ruleForm.groupDate,callback:function(t){e.$set(e.ruleForm,"groupDate",t)},expression:"ruleForm.groupDate"}})],1)],1)],1):e._e(),e._v(" "),e.ruleForm.isParty?r("el-form-item",{attrs:{label:"内容",prop:"groupContent",placeholder:"请选择"}},[r("el-select",{model:{value:e.ruleForm.groupContent,callback:function(t){e.$set(e.ruleForm,"groupContent",t)},expression:"ruleForm.groupContent"}},[r("el-option",{attrs:{value:"讲台联动"}}),e._v(" "),r("el-option",{attrs:{value:"查经"}}),e._v(" "),r("el-option",{attrs:{value:"专题讲道"}}),e._v(" "),r("el-option",{attrs:{value:"外展"}}),e._v(" "),r("el-option",{attrs:{value:"其他"}})],1)],1):e._e(),e._v(" "),e.ruleForm.isParty?r("el-form-item",{attrs:{prop:"contentDetails",label:"内容详情"}},[r("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.ruleForm.contentDetails,callback:function(t){e.$set(e.ruleForm,"contentDetails",t)},expression:"ruleForm.contentDetails"}})],1):e._e(),e._v(" "),e.ruleForm.isParty?r("el-form-item",{attrs:{prop:"introspectionNum",label:"检讨人数"}},[r("el-input-number",{model:{value:e.ruleForm.introspectionNum,callback:function(t){e.$set(e.ruleForm,"introspectionNum",t)},expression:"ruleForm.introspectionNum"}})],1):e._e(),e._v(" "),e.ruleForm.isParty?r("el-form-item",{attrs:{prop:"contentDetails",label:"备注说明"}},[r("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.ruleForm.description,callback:function(t){e.$set(e.ruleForm,"description",t)},expression:"ruleForm.description"}})],1):e._e()],1):e._e(),e._v(" "),2===e.stepStatus?r("div",[r("el-form-item",{attrs:{label:"开始时间",prop:"beginTime"}},[r("el-time-select",{attrs:{editable:"false",clearable:"false","default-value":"ruleForm.beginTime","picker-options":{start:e.ruleForm.beginTime,step:"00:05"}},model:{value:e.ruleForm.beginTime,callback:function(t){e.$set(e.ruleForm,"beginTime",t)},expression:"ruleForm.beginTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"祷告",prop:"prayTime"}},[r("el-select",{staticStyle:{width:"35%"},model:{value:e.ruleForm.prayer,callback:function(t){e.$set(e.ruleForm,"prayer",t)},expression:"ruleForm.prayer"}},e._l(e.memberData,function(e){return r("el-option",{key:e.userid,attrs:{label:e.username,value:e.userid}})})),e._v(" "),r("el-time-select",{staticStyle:{width:"35%"},attrs:{editable:"false",clearable:"false","default-value":"ruleForm.prayTime","picker-options":{start:e.ruleForm.prayTime,step:"00:05"}},model:{value:e.ruleForm.prayTime,callback:function(t){e.$set(e.ruleForm,"prayTime",t)},expression:"ruleForm.prayTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"破冰",prop:"iceBreakTime"}},[r("el-select",{staticStyle:{width:"35%"},model:{value:e.ruleForm.iceBreaker,callback:function(t){e.$set(e.ruleForm,"iceBreaker",t)},expression:"ruleForm.iceBreaker"}},e._l(e.memberData,function(e){return r("el-option",{key:e.userid,attrs:{label:e.username,value:e.userid}})})),e._v(" "),r("el-time-select",{staticStyle:{width:"35%"},attrs:{editable:"false",clearable:"false","default-value":"ruleForm.iceBreakTime","picker-options":{start:e.ruleForm.iceBreakTime,step:"00:05"}},model:{value:e.ruleForm.iceBreakTime,callback:function(t){e.$set(e.ruleForm,"iceBreakTime",t)},expression:"ruleForm.iceBreakTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"敬拜",prop:"singTime"}},[r("el-select",{staticStyle:{width:"35%"},model:{value:e.ruleForm.singer,callback:function(t){e.$set(e.ruleForm,"singer",t)},expression:"ruleForm.singer"}},e._l(e.memberData,function(e){return r("el-option",{key:e.userid,attrs:{label:e.username,value:e.userid}})})),e._v(" "),r("el-time-select",{staticStyle:{width:"35%"},attrs:{editable:"false",clearable:"false","default-value":"ruleForm.singTime","picker-options":{start:e.ruleForm.singTime,step:"00:05"}},model:{value:e.ruleForm.singTime,callback:function(t){e.$set(e.ruleForm,"singTime",t)},expression:"ruleForm.singTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"见证",prop:"witnessTime"}},[r("el-select",{staticStyle:{width:"35%"},model:{value:e.ruleForm.witnesser,callback:function(t){e.$set(e.ruleForm,"witnesser",t)},expression:"ruleForm.witnesser"}},e._l(e.memberData,function(e){return r("el-option",{key:e.userid,attrs:{label:e.username,value:e.userid}})})),e._v(" "),r("el-time-select",{staticStyle:{width:"35%"},attrs:{editable:"false",clearable:"false","default-value":"ruleForm.witnessTime","picker-options":{start:e.ruleForm.witnessTime,step:"00:05"}},model:{value:e.ruleForm.witnessTime,callback:function(t){e.$set(e.ruleForm,"witnessTime",t)},expression:"ruleForm.witnessTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"话语",prop:"speakTime"}},[r("el-select",{staticStyle:{width:"35%"},model:{value:e.ruleForm.speaker,callback:function(t){e.$set(e.ruleForm,"speaker",t)},expression:"ruleForm.speaker"}},e._l(e.memberData,function(e){return r("el-option",{key:e.userid,attrs:{label:e.username,value:e.userid}})})),e._v(" "),r("el-time-select",{staticStyle:{width:"35%"},attrs:{editable:"false",clearable:"false","default-value":"ruleForm.speakTime","picker-options":{start:e.ruleForm.speakTime,step:"00:05"}},model:{value:e.ruleForm.speakTime,callback:function(t){e.$set(e.ruleForm,"speakTime",t)},expression:"ruleForm.speakTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"服事",prop:"serveTime"}},[r("el-select",{staticStyle:{width:"35%"},model:{value:e.ruleForm.server,callback:function(t){e.$set(e.ruleForm,"server",t)},expression:"ruleForm.server"}},e._l(e.memberData,function(e){return r("el-option",{key:e.userid,attrs:{label:e.username,value:e.userid}})})),e._v(" "),r("el-time-select",{staticStyle:{width:"35%"},attrs:{editable:"false",clearable:"false","default-value":"ruleForm.serveTime","picker-options":{start:e.ruleForm.serveTime,step:"00:05"}},model:{value:e.ruleForm.serveTime,callback:function(t){e.$set(e.ruleForm,"serveTime",t)},expression:"ruleForm.serveTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"报告",prop:"reportTime"}},[r("el-select",{staticStyle:{width:"35%"},model:{value:e.ruleForm.reporter,callback:function(t){e.$set(e.ruleForm,"reporter",t)},expression:"ruleForm.reporter"}},e._l(e.memberData,function(e){return r("el-option",{key:e.userid,attrs:{label:e.username,value:e.userid}})})),e._v(" "),r("el-time-select",{staticStyle:{width:"35%"},attrs:{editable:"false",clearable:"false","default-value":"ruleForm.reportTime","picker-options":{start:e.ruleForm.reportTime,step:"00:05"}},model:{value:e.ruleForm.reportTime,callback:function(t){e.$set(e.ruleForm,"reportTime",t)},expression:"ruleForm.reportTime"}})],1)],1):e._e(),e._v(" "),0===e.step&&0===e.stepStatus?r("el-button",{nativeOn:{click:function(t){return t.preventDefault(),e.leave(t)}}},[e._v("返回")]):e._e(),e._v(" "),e.step>0?r("el-button",{nativeOn:{click:function(t){return t.preventDefault(),e.preStep(t)}}},[e._v("上一步")]):e._e(),e._v(" "),e.stepStatus<2?r("el-button",{nativeOn:{click:function(t){return t.preventDefault(),e.nextStep(t)}}},[e._v("下一步")]):e._e(),e._v(" "),2===e.stepStatus?r("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.submitReport(t)}}},[e._v("提交")]):e._e()],1)],1)],1)},staticRenderFns:[]};var $=r("VU/8")(x,k,!1,function(e){r("u8rx")},"data-v-0f83d504",null).exports;i.default.use(a.a);var C=new a.a({routes:[{path:"/",name:"Home",component:c,redirect:"/memberlist",children:[{path:"/updatepwd",name:"UpdatePwd",component:h},{path:"/memberlist",name:"MemberList",component:v},{path:"/memberinfo",name:"MemberInfo",component:b},{path:"/reportlist",name:"ReportList",component:S},{path:"/reportlistmod",name:"ReportListModify",component:y},{path:"/reportInfo",name:"ReportInfo",component:$}]},{path:"/login",name:"Login",component:u}]}),I=r("mvHQ"),N=r.n(I),R=r("NYxO");i.default.use(R.a);var O=new R.a.Store({state:{user:null==window.localStorage.getItem("user")?void 0:JSON.parse(window.localStorage.getItem("user")),members:void 0,cTeam:"",cArea:"",rolename:null==window.localStorage.getItem("rolename")?void 0:JSON.parse(window.localStorage.getItem("rolename")),areas:null==window.localStorage.getItem("areas")?void 0:JSON.parse(window.localStorage.getItem("areas")),teams:null==window.localStorage.getItem("teams")?void 0:JSON.parse(window.localStorage.getItem("teams")),reports:void 0,reportedit:void 0},mutations:{login:function(e,t){e.user=t,window.localStorage.setItem("user",N()(t))},logout:function(e){window.localStorage.removeItem("user"),window.localStorage.removeItem("rolename"),window.localStorage.removeItem("areas"),window.localStorage.removeItem("teams"),e.user=void 0,e.members=void 0,e.areas=void 0,e.teams=void 0,e.cTeam="",e.cArea="",e.reports=void 0,e.reportedit=void 0},initMemberList:function(e,t){e.members=t},initReportList:function(e,t){e.reports=t},initReportListEdit:function(e,t){e.reportedit=t},initAreas:function(e,t){e.areas=t,window.localStorage.setItem("areas",N()(t))},initTeams:function(e,t){e.teams=t,window.localStorage.setItem("teams",N()(t))},initRolename:function(e,t){e.rolename=t,window.localStorage.setItem("rolename",N()(t))},setCTeam:function(e,t){e.cTeam=t},setCArea:function(e,t){e.cArea=t}},actions:{login:function(e,t){e.commit("login",t)},logout:function(e){e.commit("logout")}}}),L=r("zL8q"),G=r.n(L),P=r("Au9i"),A=r.n(P),M=(r("tvR6"),r("//Fk")),E=r.n(M),j=r("mtWM"),q=r.n(j);q.a.interceptors.request.use(function(e){return e},function(e){return L.Message.error({message:"请求超时!"}),E.a.resolve(e)}),q.a.interceptors.response.use(function(e){return e.status&&200===e.status&&"error"===e.data.status?(L.Message.error({message:e.data.msg}),e.data.msg,O.commit("logout"),void C.replace({name:"Login"})):e},function(e){return 504===e.response.status||404===e.response.status?L.Message.error({message:"服务器被吃了⊙﹏⊙∥"}):403===e.response.status?L.Message.error({message:"权限不足,请联系管理员!"}):L.Message.error({message:"未知错误!"}),E.a.resolve(e)});var B=function(e,t){return q()({method:"post",url:""+e,data:t,transformRequest:[function(e){var t="";for(var r in e)t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r])+"&";return t}],headers:{"Content-Type":"application/x-www-form-urlencoded"}})},J=function(e){return q()({method:"get",url:""+e})};function V(e){if(void 0!==e&&""!==e){var t=W(e),r=t.getFullYear(),i=t.getMonth()+1,o=t.getDate();return i<10&&(i="0"+i),o<10&&(o="0"+o),r+"-"+i+"-"+o}}function W(e){return(e=e.replace(/T/g," ").replace(/\.[\d]{3}Z/,"").replace(/(-)/g,"/")).indexOf(".")>0&&(e=e.slice(0,e.indexOf("."))),new Date(e)}function U(e){if(void 0!==e&&""!==e){var t=W(e),r=t.getFullYear(),i=t.getMonth()+1,o=t.getDate(),s=t.getHours(),a=t.getMinutes();return i<10&&(i="0"+i),o<10&&(o="0"+o),r+"-"+i+"-"+o+" "+s+":"+a}}function z(e){if(void 0!==e&&""!==e){var t=e.getMonth()+1,r=e.getDate();return[e.getFullYear(),(t>9?"":"0")+t,(r>9?"":"0")+r].join("-")}}i.default.filter("formatDate",V),i.default.filter("formatDateTime",U),i.default.filter("dateToString",z),i.default.prototype.formatDate=V,i.default.prototype.formatDateTime=U,i.default.prototype.dateToString=z;var H=r("k5VZ"),Y=r.n(H);function Z(e){e.state.areas!==[]&&void 0!==e.state.areas||(console.log("doInit Areas"),J("/org/getChildAreas").then(function(t){t&&200===t.status&&"success"===t.data.status&&e.commit("initAreas",t.data.data)}))}function Q(e){e.state.teams!==[]&&void 0!==e.state.teams||(console.log("doInit Teams"),J("/org/getChildTeams").then(function(t){t&&200===t.status&&"success"===t.data.status&&e.commit("initTeams",t.data.data)}))}var K=r("Gjt6"),X=r.n(K);i.default.config.productionTip=!1,i.default.use(G.a),i.default.use(A.a),i.default.use(R.b),i.default.prototype.getRequest=J,i.default.prototype.postRequest=B,i.default.prototype.deleteRequest=function(e){return q()({method:"delete",url:""+e})},i.default.prototype.putRequest=function(e,t){return q()({method:"put",url:""+e,data:t,transformRequest:[function(e){var t="";for(var r in e)t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r])+"&";return t}],headers:{"Content-Type":"application/x-www-form-urlencoded"}})},i.default.prototype.initMemberList=function(e){var t=!1,r=e.state.user.authorities;if(void 0!==e.state.user&&r!==[]&&void 0!==r)for(var i in r)if("区牧"===r[i].authority)return e.commit("initRolename","区牧"),Z(e),Q(e),void(t=!0);if(void 0!==e.state.user&&!t&&r!==[]&&void 0!==r)for(var o in r)if("区长"===r[o].authority)return e.commit("initRolename","区长"),void Q(e);e.state.members!==[]&&void 0!==e.state.members&&null!==e.state.members||J("/user/getMembers").then(function(t){t&&200===t.status&&"success"===t.data.status&&(e.commit("initMemberList",t.data.data),e.commit("setCTeam",e.state.user.groupid))})},i.default.prototype.initReportList=function(e,t){B("http://192.168.1.102:8080/WebServiceReport.asmx/SelectNOWeekReport",{GroupId:e}).then(function(e){e&&200===e.status&&(Y.a.xmlDataToJSON(e.data).then(function(e){t.commit("initReportList",JSON.parse(e.string._))}),console.log(e.data))})},i.default.prototype.initReportListEdit=function(e,t){B("http://192.168.1.102:8080/WebServiceReport.asmx/SelectWeekReportByMonth",{OrganizationID:e}).then(function(e){e&&200===e.status&&(Y.a.xmlDataToJSON(e.data).then(function(e){t.commit("initReportListEdit",JSON.parse(e.string._))}),console.log(e.data)),console.log(e.data)})},i.default.prototype.$xtjConverter=Y.a,i.default.prototype.$otxConverter=X.a,C.beforeEach(function(e,t,r){var i=O.state.user;"Login"===e.name?i&&C.push({name:"Home"}):void 0===i&&C.push({name:"Login"}),r()}),new i.default({el:"#app",router:C,store:O,components:{App:s},template:"<App/>"})},TPTA:function(e,t){},gbrI:function(e,t){},s347:function(e,t){},"tb7/":function(e,t){},tvR6:function(e,t){},u8rx:function(e,t){},yDwC:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.d23f5a7e88d5e112f0e7.js.map